<div class="login-container">
  <div class="corrsol">
    <div class="logo">
      <img src="https://vtputkal.odisha.gov.in/wp-content/themes/learning/images/odisha_logo.png" alt="govt-logo" width="80" loading="lazy">
      <div>
        <b>Document Management System</b>
        <p>Revenue and Desaster Management Department</p>
        <p>Govenment of Odisha</p>
      </div>
    </div>
    
      <ngb-carousel
      #carousel
      [interval]="3000"
      [pauseOnHover]="pauseOnHover"
      [pauseOnFocus]="pauseOnFocus"
      (slide)="onSlide($event)"
      >
        <ng-template ngbSlide>
          <div class="picsum-img-wrapper">
            <img [src]="images[0]" width="10" alt="Random first slide" />
          </div>
          <div class="carousel-caption">
            <h3>10 seconds between slides...</h3>
            <p>This carousel uses customized default values.</p>
          </div>
        </ng-template>

        <ng-template ngbSlide>
          <div class="picsum-img-wrapper">
            <img [src]="images[1]" alt="Random second slide" />
          </div>
          <div class="carousel-caption">
            <h3>No mouse events...</h3>
            <p>This carousel doesn't pause or resume on mouse events</p>
          </div>
        </ng-template>

        <ng-template ngbSlide>
          <div class="picsum-img-wrapper">
            <img [src]="images[2]" alt="Random third slide" />
          </div>
          <div class="carousel-caption">
            <h3>No keyboard...</h3>
            <p>This carousel uses customized default values.</p>
          </div>
        </ng-template>

        <!-- <ng-template ngbSlide>
          <div class="picsum-img-wrapper">
            <img [src]="images[3]" alt="Random fourth slide" />
          </div>
          <div class="carousel-caption">
            <h3>And no wrap after last slide.</h3>
            <p>This carousel uses customized default values.</p>
          </div>
        </ng-template> -->

      </ngb-carousel>
  </div>

  <!-- login form -->

  <div class="login-form">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <h1 style="color: #0b5fad;font-size: x-large; margin-bottom: 30px;font-weight: 600;">Login</h1>
      <div class="form-group">
        <div  [ngClass]="invalidUsername || loginForm.get('username')?.invalid && loginForm.get('username')?.touched && loginForm.get('username')?.dirty ? 'error-input' : 'input-div'">
          <div style="width: 100%;">
            <nz-icon nzType="user" nzTheme="outline" />
            <input id="username" type="text" (keypress)="onChange('username')" class="form-control" placeholder="username" ngModel name="username" formControlName="username"/>
          </div>
        </div>
        <!-- <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"> -->
          
            <div style="text-align:start; width: 100%; height: 30px;">
              @if (invalidUsername || loginForm.get('username')?.invalid && loginForm.get('username')?.touched && loginForm.get('username')?.dirty) {
              <small class="text-danger" >Username is required.</small>
            }
            </div>
        
          
      </div>

      <div class="form-group">
        <div [ngClass]="invalidPassword || loginForm.get('password')?.invalid && loginForm.get('password')?.touched && loginForm.get('password')?.dirty ? 'error-input' : 'input-div'">
          <div style="width: 100%;">
            <nz-icon nzType="lock" nzTheme="outline" />
            <input #password id="password" type="password" (keypress)="onChange('password')" class="form-control" placeholder="password" ngModel name="password" formControlName="password"/>
          </div>

          <i #icon class="fa-solid fa-eye" style="color: gray; cursor: pointer; font-size: 15px;padding: 5px;"
            (click)="showPassword(password,icon)"></i>
        </div>
        <div style="text-align:start; width: 100%; height: 30px;">
          @if (invalidPassword || loginForm.get('password')?.invalid && loginForm.get('password')?.touched && loginForm.get('password')?.dirty) {
          <small class="text-danger" >Password is required.</small>
        }
        </div>
      </div>
      <div class="capcha">
        <img
          src="https://images.fastcompany.com/image/upload/f_webp,c_fit,w_1920,q_auto/fc/captcha-internet-translate.jpg"
          width="120px" alt="captcha" style="border: 1px solid black;border-radius: 5px;padding: 5px;">

        <div  style="width: 100%;">

          <div  [ngClass]="invalidCaptcha || loginForm.get('captcha')?.invalid && loginForm.get('captcha')?.touched && loginForm.get('captcha')?.dirty ? 'error-input' : 'input-div'">
            <i class="fa-solid fa-unlock" style="color: gray;"></i>
            <input type="text" placeholder="Captcha" ngModel name="captcha" (keypress)="onChange('captcha')" formControlName="captcha"/>
          </div>
          
          <div style="text-align:start; width: 100%; height: 30px;">
            @if (invalidCaptcha || loginForm.get('captcha')?.invalid && loginForm.get('captcha')?.touched && loginForm.get('captcha')?.dirty) {
            <small class="text-danger" >Captcha is required.</small>
          }

          </div>
        </div>
      </div>


      <div class="forgot-password" style="width: 100%; text-align: end; margin-bottom: 15px;">
        <a (click)="goto('forgot-password')" style="cursor:pointer; text-decoration: none; color: rgb(125 132 143); font-size:15px;font-weight:500;">
          Forgot password</a>
      </div>
      @if (loginForm.invalid) {
        <button style="width: 100%; color: white; font-size: 12px; padding: 5px; border-radius: 6px; border: none; background-color:gray; margin-right: 7px; cursor: not-allowed;" type="submit"  class="">
          <nz-icon nzType="login" nzTheme="outline" />
          Login</button>
      }
      @else {
        <button type="submit" class="btnn">
          <nz-icon nzType="login" nzTheme="outline" />
          Login</button>
      }
      
    </form>

  </div>

</div>